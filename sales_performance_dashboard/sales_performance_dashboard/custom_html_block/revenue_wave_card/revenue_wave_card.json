{
 "doctype": "Custom HTML Block",
 "name": "Revenue Wave Card",
 "module": "Sales Performance Dashboard",
 "private": 0,
 "html": "<div class=\"psd-wave-card\"><div class=\"psd-wave-top\"><div class=\"psd-wave-label\">TOTAL REVENUE</div><svg class=\"psd-wave-svg\" viewBox=\"0 0 64 20\" aria-hidden=\"true\"><polyline points=\"2,14 10,8 18,14 26,7 34,14 42,6 50,14 62,8\" /></svg></div><div class=\"psd-wave-value\" id=\"psd-wave-revenue\">Sh 0.00</div></div>",
 "script": "const method = \"sales_performance_dashboard.api.personal_dashboard_api.get_personal_revenue_metric\";\nconst el = root_element.querySelector('#psd-wave-revenue');\n\nfunction args() {\n  return {\n    department: localStorage.getItem('spd_personal_dashboard_department') || '',\n    employee: localStorage.getItem('spd_personal_dashboard_employee') || '',\n  };\n}\n\nfunction load() {\n  frappe.call({ method, args: args() }).then((r) => {\n    const payload = r.message || {};\n    const value = payload.value || 0;\n    el.textContent = format_currency(value);\n  });\n}\n\nwindow.addEventListener('spd-personal-changed', load);\nload();\n",
 "style": ".psd-wave-card{position:relative;background:#fff;border:1px solid var(--gray-200);border-radius:10px;padding:12px 14px;min-height:74px}.psd-wave-top{display:flex;align-items:center;justify-content:space-between;gap:8px}.psd-wave-label{font-size:10px;letter-spacing:.4px;font-weight:600;color:var(--text-muted)}.psd-wave-svg{width:58px;height:16px}.psd-wave-svg polyline{fill:none;stroke:#16a34a;stroke-width:2.4;stroke-linecap:round;stroke-linejoin:round}.psd-wave-value{margin-top:8px;font-size:38px;font-weight:700;line-height:1;color:#15803d}"
}
